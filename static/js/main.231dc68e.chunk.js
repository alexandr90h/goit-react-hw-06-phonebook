(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{189:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n(28),o=n.n(r),i=(n(83),n(69)),s=n.n(i),u=n(8),b=n(70),l=n.n(b),j=n(29),m=n(32),d=n(75),O=n(6),f=n(191),h=n(15),p={addContacts:Object(h.a)("contacts/add",(function(e,t){return{payload:{id:Object(f.a)(),name:e,number:t}}})),delContacts:Object(h.a)("contacts/dalete"),filterChange:Object(h.a)("contacts/changeFilter")};function x(){var e=m.b().shape({name:m.c().required(),number:m.a().required()}),t=Object(j.b)({resolver:Object(d.yupResolver)(e)}),n=t.register,r=t.handleSubmit,o=t.errors,i=Object(a.useState)(""),s=Object(u.a)(i,2),b=s[0],f=s[1],h=Object(a.useState)(""),x=Object(u.a)(h,2),C=x[0],v=x[1],g=Object(O.b)(),_=function(e){switch(e.target.name){case"name":f(e.target.value);break;case"number":v(e.target.value)}},y=function(){f(""),v("")};return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:r((function(e){g(p.addContacts(b,C)),y()})),className:l.a.mainForm,children:[Object(c.jsxs)("label",{children:["Name",Object(c.jsx)("input",{type:"text",name:"name",autoComplete:"off",value:b,onChange:_,ref:n})]}),o.name&&Object(c.jsx)("p",{children:o.name.message}),Object(c.jsxs)("label",{children:["Number",Object(c.jsx)("input",{type:"text",name:"number",autoComplete:"off",value:C,onChange:_,ref:n})]}),o.number&&Object(c.jsx)("p",{children:o.number.message}),Object(c.jsx)("button",{type:"submit",children:"Add contact"})]})})}var C=n(21),v=n.n(C);function g(e){return Object(c.jsxs)("li",{className:v.a.contactItem,children:[Object(c.jsxs)("div",{className:v.a.contentItem,children:[Object(c.jsxs)("span",{className:v.a.nameItem,children:[e.name,": "]}),Object(c.jsx)("span",{className:v.a.phonItem,children:e.number})]}),Object(c.jsx)("button",{onClick:function(){return e.onBtnDelId(e.id)},children:"delete"})]},e.id)}var _=n(31),y=n.n(_);function I(){var e=Object(O.c)((function(e){return e.items})),t=Object(O.b)();return Object(c.jsx)("ol",{className:y.a.contactList,children:e.map((function(e){return Object(c.jsx)(g,{id:e.id,name:e.name,number:e.number,onBtnDelId:function(){return t(p.delContacts(e.id))}},e.id)}))})}var N=n(45),S=n.n(N),w=n(77);function L(){var e=Object(O.b)();return Object(c.jsxs)("div",{className:S.a.inputContainer,children:[Object(c.jsx)("label",{children:"Find contacts by name "}),Object(c.jsxs)("form",{className:S.a.formBox,children:[Object(c.jsx)("input",{type:"text",autoComplete:"off",onChange:function(t){e(p.filterChange(t.currentTarget.value)),t.currentTarget.value?document.querySelector("#btn-reset").style.color="red":document.querySelector("#btn-reset").style.color="rgb(192, 192, 192)"}}),Object(c.jsx)("button",{type:"reset",onClick:function(){e(p.filterChange("")),document.querySelector("#btn-reset").style.color="rgb(192, 192, 192)"},id:"btn-reset",children:Object(c.jsx)(w.a,{})})]})]})}function k(){var e=Object(O.c)((function(e){return e.items})),t=Object(O.c)((function(e){return e.filter})),n=Object(O.b)(),a=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(c.jsx)("ol",{className:y.a.contactList,children:a.map((function(e){return Object(c.jsx)(g,{id:e.id,name:e.name,number:e.number,onBtnDelId:function(){return n(p.delContacts(e.id))}},e.id)}))})}function B(){var e=Object(O.c)((function(e){return e.items})),t=Object(O.c)((function(e){return e.filter}));return Object(a.useEffect)((function(){localStorage.setItem("contacts",JSON.stringify(e))}),[e,t]),Object(c.jsxs)("div",{className:s.a.mainContainer,children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)("div",{children:Object(c.jsx)(x,{})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(L,{}),""===t?Object(c.jsx)(I,{}):Object(c.jsx)(k,{})]})]})}var F,q,D=n(5),J=n(2),T=n(7),H=n(76),A=Object(h.b)(null!==(F=JSON.parse(localStorage.getItem("contacts")))&&void 0!==F?F:[],(q={},Object(D.a)(q,p.addContacts,(function(e,t){return void 0!==e.find((function(e){return e.name.toLowerCase()===t.payload.name.toLowerCase()}))&&alert("".concat(t.payload.name," is alreadyin contacts.")),[].concat(Object(J.a)(e),[t.payload])})),Object(D.a)(q,p.delContacts,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),q)),E=Object(h.b)("",Object(D.a)({},p.filterChange,(function(e,t){return t.payload}))),P=Object(T.combineReducers)({items:A,filter:E}),R=Object(T.createStore)(P,Object(H.composeWithDevTools)());o.a.render(Object(c.jsx)(O.a,{store:R,children:Object(c.jsx)(B,{})}),document.getElementById("root"))},21:function(e,t,n){e.exports={contactItem:"contactsItem_contactItem__2lYPm",nameItem:"contactsItem_nameItem__zU42Z",phonItem:"contactsItem_phonItem__2ncAy"}},31:function(e,t,n){e.exports={contactList:"conractsList_contactList__HTqX8"}},45:function(e,t,n){e.exports={inputContainer:"inputFind_inputContainer__uQhrl",formBox:"inputFind_formBox__r5nmH"}},69:function(e,t,n){e.exports={mainContainer:"app_mainContainer__9HqjC"}},70:function(e,t,n){e.exports={mainForm:"inputMainForm_mainForm__reB78"}},83:function(e,t,n){}},[[189,1,2]]]);
//# sourceMappingURL=main.231dc68e.chunk.js.map